Organization name is 'Sagacious Heritage Corporation' and their application name is 'Coco's Story'. The backend, Firebase project, and web UI for Coco's Story will be hosted on Google Cloud.

Coco's Story is a multi-tenant family storytelling and genealogy platform organized as a Yarn workspace monorepo. The primary application is a Next.js 15 web app (apps/web) using React 19, Tailwind CSS, and Firebase for auth/database. It provides features for capturing family stories, managing person records, tracking relationships, and extracting genealogical facts. A companion Python service (apps/interviewer) built with FastAPI and LangGraph acts as an AI-powered interviewer that extracts structured entities (persons, facts, relationships, dates) from natural language narratives using Google's Gemini models. Firebase Cloud Functions (services/functions) handle backend business logic, and all tenant-scoped data lives in Firestore under a hierarchical /tenants/{tenantId}/... structure.

  The shared packages layer enforces consistency across the stack. @repo/types serves as the canonical source for TypeScript types, with contract tests verifying synchronization with Pydantic models in Python. @repo/security provides tenant validation utilities, @repo/ui offers Radix-based React components, and @repo/config centralizes ESLint/Prettier rules. Notably, @repo/admin-scripts is isolated in its own workspace with nohoist configuration to avoid gRPC dependency conflicts between the Firebase Admin SDK and client SDK—a documented architectural decision in docs/planning/dep-problem.md.

  The data model centers on soft-deletable documents with explicit meta.deletedAt fields (queries must filter deletedAt == null). All date-related fields use a structured DateInfo format rather than strings. Person vital stats are never stored on person documents directly; they exist as separate fact documents. The multi-tenant architecture requires every Firestore index on tenant-scoped collections to start with tenantId, and all queries must filter by tenant first.

  Development follows a branch-based workflow with PRs targeting the develop branch. Vercel handles deployments: pushes trigger preview deployments, and merges to main trigger production. The codebase enforces comprehensive JSDoc on all exports, TypeScript strict mode with no any types, and requires tests before merging. Pre-commit hooks run linting and tests (with configurable skip flags like FAST_COMMIT=1 for WIP commits). The Python service has 1,500+ tests with pytest-testmon for incremental testing during development.

  AI code review is integrated into the PR process—PRs receive automated review from Claude, Gemini Code Assist, and Codex. Developers must address all AI reviewer comments before merging. The project also uses AI coding agents (Claude Code, Codex, Gemini) for development velocity, with documented case studies showing roughly 20x faster delivery compared to traditional timelines. The CLAUDE.md file in the repo root serves as the authoritative guide for AI assistants, containing critical rules, known anti-patterns from past bugs, and tool usage policies.
